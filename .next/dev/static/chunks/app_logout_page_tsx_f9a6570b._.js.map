{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///D:/Web%20Project/Poemsite/blog_poetry/app/logout/page.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport { useEffect } from \"react\"\r\nimport { useRouter } from \"next/navigation\"\r\nimport { useSession } from \"@/hooks/use-session\" // Import useSession\r\n\r\nexport default function LogoutPage() {\r\n  const router = useRouter()\r\n  const { refetch } = useSession() // Get the refetch function\r\n\r\n  useEffect(() => {\r\n    async function performLogout() {\r\n      try {\r\n        const res = await fetch(\"/api/auth/logout\", { method: \"GET\" })\r\n        if (res.ok) {\r\n          console.log(\"Logged out successfully\")\r\n          refetch() // Re-fetch session to update global state\r\n        }\r\n      } catch (error) {\r\n        console.error(\"Error during logout:\", error)\r\n      } finally {\r\n        router.push(\"/login\") // Always redirect to login after attempting logout\r\n      }\r\n    }\r\n    performLogout()\r\n  }, [router, refetch]) // Add refetch to dependency array\r\n\r\n  return (\r\n    <main className=\"min-h-screen bg-background py-12 text-center\">\r\n      <p>Logging out...</p>\r\n    </main>\r\n  )\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA,sNAAiD,oBAAoB;;;AAJrE;;;;AAMe,SAAS;;IACtB,MAAM,SAAS,IAAA,kJAAS;IACxB,MAAM,EAAE,OAAO,EAAE,GAAG,IAAA,wIAAU,IAAG,2BAA2B;;IAE5D,IAAA,0KAAS;gCAAC;YACR,eAAe;gBACb,IAAI;oBACF,MAAM,MAAM,MAAM,MAAM,oBAAoB;wBAAE,QAAQ;oBAAM;oBAC5D,IAAI,IAAI,EAAE,EAAE;wBACV,QAAQ,GAAG,CAAC;wBACZ,WAAU,0CAA0C;oBACtD;gBACF,EAAE,OAAO,OAAO;oBACd,QAAQ,KAAK,CAAC,wBAAwB;gBACxC,SAAU;oBACR,OAAO,IAAI,CAAC,WAAU,mDAAmD;gBAC3E;YACF;YACA;QACF;+BAAG;QAAC;QAAQ;KAAQ,GAAE,kCAAkC;IAExD,qBACE,6LAAC;QAAK,WAAU;kBACd,cAAA,6LAAC;sBAAE;;;;;;;;;;;AAGT;GA1BwB;;QACP,kJAAS;QACJ,wIAAU;;;KAFR"}}]
}