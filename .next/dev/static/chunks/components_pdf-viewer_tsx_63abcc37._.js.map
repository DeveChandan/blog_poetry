{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///E:/blog_poetry/components/pdf-viewer.tsx"],"sourcesContent":["\"use client\"\n\nimport React, { useState, useEffect } from \"react\"\nimport { Document, Page, pdfjs } from \"react-pdf\"\nimport { Button } from \"@/components/ui/button\"\nimport { ChevronLeft, ChevronRight } from \"lucide-react\"\n\n// Set the workerSrc for pdf.js\npdfjs.GlobalWorkerOptions.workerSrc = `/pdf-worker.min.js`\n\ninterface PdfViewerProps {\n  fileUrl: string\n}\n\nexport default function PdfViewer({ fileUrl }: PdfViewerProps) {\n  const [numPages, setNumPages] = useState<number | null>(null)\n  const [pageNumber, setPageNumber] = useState(1)\n  const [loading, setLoading] = useState(true)\n  const [error, setError] = useState<string | null>(null)\n  // Removed containerWidth state and useEffect for simplification\n\n  const onDocumentLoadSuccess = ({ numPages }: { numPages: number }) => {\n    console.log(\"PDF loaded successfully. Number of pages:\", numPages);\n    setNumPages(numPages)\n    setLoading(false)\n    setError(null)\n  }\n\n  const onDocumentLoadError = (err: Error) => {\n    console.error(\"Failed to load PDF document:\", err)\n    setError(\"Failed to load PDF document. Please try again later. Error: \" + err.message)\n    setLoading(false)\n  }\n\n  const goToPrevPage = () => {\n    setPageNumber((prevPageNumber) => Math.max(prevPageNumber - 1, 1))\n  }\n\n  const goToNextPage = () => {\n    setPageNumber((prevPageNumber) => Math.min(prevPageNumber + 1, numPages || 1))\n  }\n\n  console.log(\"PdfViewer state:\", { fileUrl, pageNumber, numPages, loading, error }); // Removed containerWidth from log\n\n  if (loading) {\n    return <div className=\"text-center py-8\">Loading PDF...</div>\n  }\n\n  if (error) {\n    return <div className=\"text-center py-8 text-red-500\">{error}</div>\n  }\n\n  return (\n    <div className=\"flex flex-col items-center space-y-4\">\n      <div className=\"w-full max-w-3xl border border-border rounded-lg overflow-hidden shadow-lg\">\n        <Document\n          file={fileUrl}\n          onLoadSuccess={onDocumentLoadSuccess}\n          onLoadError={onDocumentLoadError}\n          className=\"w-full\"\n        >\n          {/* Using a fixed width for now to rule out dynamic sizing issues */}\n          <Page pageNumber={pageNumber} width={800} />\n        </Document>\n      </div>\n      <div className=\"flex items-center space-x-4\">\n        <Button onClick={goToPrevPage} disabled={pageNumber <= 1}>\n          <ChevronLeft className=\"h-4 w-4 mr-2\" /> Previous\n        </Button>\n        <p className=\"text-sm text-muted-foreground\">\n          Page {pageNumber} of {numPages || \"...\"}\n        </p>\n        <Button onClick={goToNextPage} disabled={pageNumber >= (numPages || 1)}>\n          Next <ChevronRight className=\"h-4 w-4 ml-2\" />\n        </Button>\n      </div>\n    </div>\n  )\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAAA;AAAA;AACA;AACA;AAAA;;;AALA;;;;;AAOA,+BAA+B;AAC/B,2NAAK,CAAC,mBAAmB,CAAC,SAAS,GAAG,CAAC,kBAAkB,CAAC;AAM3C,SAAS,UAAU,EAAE,OAAO,EAAkB;;IAC3D,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,yKAAQ,EAAgB;IACxD,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,yKAAQ,EAAC;IAC7C,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,yKAAQ,EAAC;IACvC,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,yKAAQ,EAAgB;IAClD,gEAAgE;IAEhE,MAAM,wBAAwB,CAAC,EAAE,QAAQ,EAAwB;QAC/D,QAAQ,GAAG,CAAC,6CAA6C;QACzD,YAAY;QACZ,WAAW;QACX,SAAS;IACX;IAEA,MAAM,sBAAsB,CAAC;QAC3B,QAAQ,KAAK,CAAC,gCAAgC;QAC9C,SAAS,iEAAiE,IAAI,OAAO;QACrF,WAAW;IACb;IAEA,MAAM,eAAe;QACnB,cAAc,CAAC,iBAAmB,KAAK,GAAG,CAAC,iBAAiB,GAAG;IACjE;IAEA,MAAM,eAAe;QACnB,cAAc,CAAC,iBAAmB,KAAK,GAAG,CAAC,iBAAiB,GAAG,YAAY;IAC7E;IAEA,QAAQ,GAAG,CAAC,oBAAoB;QAAE;QAAS;QAAY;QAAU;QAAS;IAAM,IAAI,kCAAkC;IAEtH,IAAI,SAAS;QACX,qBAAO,6LAAC;YAAI,WAAU;sBAAmB;;;;;;IAC3C;IAEA,IAAI,OAAO;QACT,qBAAO,6LAAC;YAAI,WAAU;sBAAiC;;;;;;IACzD;IAEA,qBACE,6LAAC;QAAI,WAAU;;0BACb,6LAAC;gBAAI,WAAU;0BACb,cAAA,6LAAC,sMAAQ;oBACP,MAAM;oBACN,eAAe;oBACf,aAAa;oBACb,WAAU;8BAGV,cAAA,6LAAC,0LAAI;wBAAC,YAAY;wBAAY,OAAO;;;;;;;;;;;;;;;;0BAGzC,6LAAC;gBAAI,WAAU;;kCACb,6LAAC,wIAAM;wBAAC,SAAS;wBAAc,UAAU,cAAc;;0CACrD,6LAAC,sOAAW;gCAAC,WAAU;;;;;;4BAAiB;;;;;;;kCAE1C,6LAAC;wBAAE,WAAU;;4BAAgC;4BACrC;4BAAW;4BAAK,YAAY;;;;;;;kCAEpC,6LAAC,wIAAM;wBAAC,SAAS;wBAAc,UAAU,cAAc,CAAC,YAAY,CAAC;;4BAAG;0CACjE,6LAAC,yOAAY;gCAAC,WAAU;;;;;;;;;;;;;;;;;;;;;;;;AAKvC;GAhEwB;KAAA"}}]
}