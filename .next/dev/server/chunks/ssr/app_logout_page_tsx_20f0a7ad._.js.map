{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///E:/blog_poetry/app/logout/page.tsx"],"sourcesContent":["\"use client\"\n\nimport { useEffect } from \"react\"\nimport { useRouter } from \"next/navigation\"\nimport { useSession } from \"@/hooks/use-session\" // Import useSession\n\nexport default function LogoutPage() {\n  const router = useRouter()\n  const { refetch } = useSession() // Get the refetch function\n\n  useEffect(() => {\n    async function performLogout() {\n      try {\n        const res = await fetch(\"/api/auth/logout\", { method: \"GET\" })\n        if (res.ok) {\n          console.log(\"Logged out successfully\")\n          refetch() // Re-fetch session to update global state\n        }\n      } catch (error) {\n        console.error(\"Error during logout:\", error)\n      } finally {\n        router.push(\"/login\") // Always redirect to login after attempting logout\n      }\n    }\n    performLogout()\n  }, [router, refetch]) // Add refetch to dependency array\n\n  return (\n    <main className=\"min-h-screen bg-background py-12 text-center\">\n      <p>Logging out...</p>\n    </main>\n  )\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA,gNAAiD,oBAAoB;AAJrE;;;;;AAMe,SAAS;IACtB,MAAM,SAAS,IAAA,+IAAS;IACxB,MAAM,EAAE,OAAO,EAAE,GAAG,IAAA,qIAAU,IAAG,2BAA2B;;IAE5D,IAAA,kNAAS,EAAC;QACR,eAAe;YACb,IAAI;gBACF,MAAM,MAAM,MAAM,MAAM,oBAAoB;oBAAE,QAAQ;gBAAM;gBAC5D,IAAI,IAAI,EAAE,EAAE;oBACV,QAAQ,GAAG,CAAC;oBACZ,WAAU,0CAA0C;gBACtD;YACF,EAAE,OAAO,OAAO;gBACd,QAAQ,KAAK,CAAC,wBAAwB;YACxC,SAAU;gBACR,OAAO,IAAI,CAAC,WAAU,mDAAmD;YAC3E;QACF;QACA;IACF,GAAG;QAAC;QAAQ;KAAQ,GAAE,kCAAkC;IAExD,qBACE,8OAAC;QAAK,WAAU;kBACd,cAAA,8OAAC;sBAAE;;;;;;;;;;;AAGT"}}]
}